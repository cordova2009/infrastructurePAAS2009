#目的

该文档定义后台管理系统中平台方在工程付款的相关接口。

#接口


##确认工程付款接口

招标人发起工程款付款申请后,平台方通过此接口确认收到工程款,并往投标人帐户转钱.

1）请求说明

http请求方式: post


    http://IP:PORT/if/projectPayment/confirmPayment


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
		"orderId":"订单号",
		"confirmStatus":"OK#",
		"remark":"已确认收到工程付款",
		"operator":"1"
        }
    } 


2）返回说明

正常时的返回JSON数据包示例：
 
    {
        "errcode":0,"errmsg":"确认工程付款成功"
        
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"确认工程付款失败，其它错误"}

参数|是否必须|说明
----|----|-----
orderId|是|付款订单编号
confirmStatus|是|确认状态,OK# 确认收到付款,FLS 付款失败
operator|是|操作人
remark|是|备注



##创建付款接口

招标人通过此接口发起付款.

1）请求说明

http请求方式: post


    http://IP:PORT/if/projectPayment/createPayment


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
            "token":"32423",
            "objectId":"工程标的id",
            "transferTime":"2015-12-12 12:12:12",
            "amount":3213213,
            "remark":"已确认收到工程付款",
            "bankName":"CCB",
            "voucherNo":"3432432432",
            "voucherFileUrl":"http://7niu/wuier"
        }
    } 


2）返回说明

正常时的返回JSON数据包示例：
 
    {
        "errcode":0,"errmsg":"创建工程付款成功"
        
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"创建工程付款失败，其它错误"}

参数|是否必须|说明
----|----|-----
token|是|付款人
amount|是|付款金额,单位为分
remark|是|备注
objectId|是|工程标的id
transferTime|是|转帐时间
bankName|是|银行卡
voucherNo|是|凭证号
voucherFileUrl|是|凭证号扫描件



##确认收款接口

投标人通过此接口接收付款.

1）请求说明

http请求方式: post


    http://IP:PORT/if/projectPayment/receivePayment


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
            "token":"32423",
            "orderId":"PP3432423",
            "status":"OK#",
            "remark":"已确认收到工程付款",
            "operator":"1"
        }
    } 


2）返回说明

正常时的返回JSON数据包示例：
 
    {
        "errcode":0,"errmsg":"确认收款成功"
        
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"确认收款失败，其它错误"}

参数|是否必须|说明
----|----|-----
token|是|收款人
orderId|是|付款订单编号
operator|是|操作人
remark|是|备注




