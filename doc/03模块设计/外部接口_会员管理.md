##查询会员信息接口

前端页面通过该接口查询会员接口

http请求方式: post


    http://ip:port/if/member/queryMemberInfo


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },        
        "body":
        {
	    "token":"6789"
	 }
    }

参数|是否必须|说明
----|----|-----
token|否|用户令牌


2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"查询会员信息成功",
    "info":[{
        "isMember":true,
        "memberStartTime":"",
        "memberEndTime":"",
        "memberType":"",
        "memberContent":""
	}]
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"查询会员信息失败"}

参数|是否必须|说明
----|----|-----
isMember|是|是否为会员
memberStartTime|否|会员开始时间
memberEndTime|否|会员结束时间
memberType|否|会员类型
memberContent|否|会员特权

##查询可购买会员列表接口

前端页面通过该接口查询可购买的会员产品

http请求方式: post


    http://ip:port/if/member/queryMemberProduct


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },        
        "body":
        {
	    "token":"12345"
	 }
    }

2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"查询可购买会员列表成功",
    	results:[{
    	   "productName":"标准会员",
    	   "memberType":"TEE",
    	   "productPrice":"30000",
    	   "productDesc":"招标方会员，购买后你将拥有xxx",
    	   "productId":"teeL1"
    	 }],
    	"teeMember":"OK#",
    	"teeMemberExpireTime":"2016-03-09",
    	"terMember":"FLS",
    	"terMemberExpireTime":""

    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"查询会员信息失败"}

参数|是否必须|说明
----|----|-----
productName|是|产品名称
memberType|否|会员类型，TEE招标方会员，TER投标方会员
productPrice|是|产品单价，单位为分
productDesc|是|产品描述
productId|是|产品id
teeMember|是|是否招标方会员
teeMemberExpireTime|是|招标方会员到期时间
terMember|是|是否投标方会员
terMemberExpireTime|是|投标方会员到期时间

##购买招标方会员接口

前端页面通过该接口成为招标方会员接口


http请求方式: post

前置条件：用户必须先登录,


    http://ip:port/if/member/BiddeeMember


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },        
        "body":
        {
	       "token":"12345",
           "productId":"BIDDEE_MEMBER_STD"

	     }
    }

参数|是否必须|说明
----|----|-----
token|是|用户令牌
productId|是|产品ID


2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"购买会员成功","orderId":"ZH00201501010000003243274"}

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"购买会员失败"}

    {"errcode":210106,"errmsg":"您已是会员"}


处理流程:

    1. 查询用户的身份,如果用户不是通过招标人资质,不能购买.如果用户已有招标人会员(在有效期内),则也不能购买

    2. 检查用户的订单表有没有购买招标人会员的订单,订单状态为CRT(待支付),调用支付宝网关,查询订单状态

    3. 支付宝订单如果返回成功 ,则返回 {"errcode":210106,"errmsg":"您已是会员"},其中errcode中的 21010 要根据功能编号来改.

        如果返回失败,则标记订单状态为FLS,另外再创建新的订单.

        如果订单状态不为成功或失败,则返回该订单号.


##购买投标方会员接口

前端页面通过该接口成为投标方会员接口


http请求方式: post

前置条件：用户必须先登录,


    http://ip:port/if/member/buyTenderMember


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },        
        "body":
        {
	       "token":"12345",
	       "productId":"BIDDER_MEMBER_STD"

	    }
    }

参数|是否必须|说明
----|----|-----
token|是|用户令牌
productId|是|产品ID



2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"购买会员成功","orderId":"TH00201501010000003243274"}

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"购买会员失败"}

    {"errcode":210206,"errmsg":"您已是会员"}

处理流程:

    1. 查询用户的身份,如果用户不是通过招标人资质,不能购买.如果用户已有招标人会员(在有效期内),则也不能购买

    2. 检查用户的订单表有没有购买投标人会员的订单,订单状态为CRT(待支付),调用支付宝网关,查询订单状态

    3. 支付宝订单如果返回成功 ,则返回 {"errcode":210106,"errmsg":"您已是会员"},其中errcode中的 21010 要根据功能编号来改.

        如果返回失败,则标记订单状态为FLS,另外再创建新的订单.

        如果订单状态不为成功或失败,则返回该订单号.
