#目的

该文档定义我的消息模块（myMsg)接口，并指导开发。

#接口

##查询我的消息（列表）接口

用户查询属于他的消息内容，当获取到消息后，消息标记为已读。

1）请求说明

http请求方式: post

    http://IP:PORT/if/myMsg/getMsgList


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
	    "body":{
            "token":"USER_TOKEN",
            "pageIndex":1,
            "pageSize":2
        }
    }


参数|必须|说明
------|------|-------
token|是|用户令牌
pageIndex|否|分页页码
pageSize|否|分页条数


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"查询我的消息成功",
        "data":[{
            "msgId":1,
            "msgType":"SYS",
            "msgIcon":"MSG_ICON_URL" 
            "msgTitle":"中标通知",
            "msgContent":"MSG_CONTENT_URL"
            "createTime":"2015-12-12 12:00:00",
            "isRead":"YES", 
            "msgSender":"评标管理模块"
        },
        {
            "msgId":2,
            "msgType":"SYS",
            "msgIcon":"MSG_ICON_URL" 
            "msgTitle":"中标通知",
            "msgContent":"MSG_CONTENT_URL"
            "createTime":"2015-12-12 12:00:00",
            "isRead":"NO#", 
            "msgSender":"评标管理模块"
        }],
        "pageIndex":1,
        "pageSize":2,
        "total":100
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"查询我的消息失败"
    }


参数|必须|说明
----|----|----
msgId|是|消息id
msgType|是|消息类别，SYS-系统，PRV-私信，
msgTitle|是|消息标题
isRead|是|是否已读，YES-已读，NO#-未读
msgIcon|是|消息图标链接地址
msgContent|是|消息内容链接地址
createTime|是|消息创建时间
msgSender|是|消息发送者



##获取我的消息未读个数接口

用于获取我的消息未读个数，提醒用户及时阅读。

1）请求说明

http请求方式: post

    http://IP:PORT/if/myMsg/getUnreadMsgNum


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
            "token":"USER_TOKEN",
        }
    }


参数|必须|说明
------|------|-------
token|是|用户令牌


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"获取我的消息未读个数成功",
        "unreadMsgNum":10
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"获取我的消息未读个数失败"
    }


参数|必须|说明
----|----|----
unreadMsgNum|是|未读消息个数



##获取我的消息详情接口

用于获取我的消息详情,并且设置为已读

1）请求说明

http请求方式: post

    http://IP:PORT/if/myMsg/getMsgDetail


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
            "token":"USER_TOKEN",
            "msgId":1
        }
    }


参数|必须|说明
------|------|-------
token|是|用户令牌
msgId|是|消息id


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"获取我的消息详情成功",
        "result":{
            "msgId":2,
            "msgType":"SYS",
            "msgIcon":"MSG_ICON_URL" 
            "msgTitle":"中标通知",
            "msgContent":"MSG_CONTENT_URL"
            "createTime":"2015-12-12 12:00:00",
            "isRead":"NO#", 
            "msgSender":"评标管理模块"
        }
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"获取我的消息详情失败"
    }


参数|必须|说明
----|----|----
msgId|是|消息id
msgType|是|消息类别，SYS-系统，PRV-私信，
msgTitle|是|消息标题
isRead|是|是否已读，YES-已读，NO#-未读
msgIcon|是|消息图标链接地址
msgContent|是|消息内容链接地址
createTime|是|消息创建时间
msgSender|是|消息发送者



