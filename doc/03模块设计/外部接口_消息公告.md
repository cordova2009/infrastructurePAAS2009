
#目的

【补充完善】

模块名称：announcement




#接口


#查询最新公告接口

根据传输的需要条数，获取最新的公告信息。

【后面添加】


##查询通知列表接口


1）请求说明

http请求方式: post

    http://IP:PORT/if/message/getSmsList


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
	"body":{
           "token":"sdfasdf",
           "pageIndex":"1",
           "pageSize":"2"
        }
    }


参数|必须|说明
------|------|-------
token|是|登录用户的token
pageIndex|否|分页页码
pageSize|否|分页条数


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"信息查询成功",
        "data":[{
            "smsId":1,
            "type":"系统", 
            "title":"标题", 
            "senderName":""
            "isread":"Y"
        }],
        "pageIndex":1,
        "pageSize":2,
        "total":100

    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"获取数据失败"
    }


参数|必须|说明
----|----|----
smsId|是|消息id
type|是|消息类别 私信 系统
senderName|是|发送消息人
title|是|消息标题
isread|否|是否已读 Y 已读 N 未读
pageIndex|否|分页页码
pageSize|否|分页条数
total|否|总记录条数



##查询通知详情接口



1）请求说明

http请求方式: post

    http://IP:PORT/if/message/getsmsinfo


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },{
        "token":"sdfa2323",
        "smsId":"1"
    }
    }


参数|必须|说明
------|------|-------
token|是|登录用户的token
smsId|是|站内短信id


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"信息查询成功",
        "data":{
            "id":"1",
            "type":"系统", 
            "title":"标题"
            "content":"支行",
            "sendername":""
        }
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"获取数据失败"
    }


参数|必须|说明
----|----|----
id|是|消息id
type|是|消息类别 私信 系统
content|是|消息内容
sendername|是|发送消息人
title|是|消息标题



##查询网站公告列表接口


1）请求说明

http请求方式: post

    http://IP:PORT/if/message/getnoticeList


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
	   "body"{
            "pageIndex":1,
            "pageSize":2
        }
    }


参数|必须|说明
------|------|-------
pageIndex|否|分页页码
pageSize|否|分页条数


2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"信息查询成功",
        "list":[{
            "id":1,
            "title":"恭喜发布平台2.0公告", 
            "createTime":"2014-01-02 12:00:00"
        }],
        "pageIndex":1,
        "pageSize":2,
        "total":100
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"获取数据失败"
    }


参数|必须|说明
----|----|----
id|是|公告id
title|是|标题
createtime|是|创建时间



##查询网站公告详情接口



1）请求说明

http请求方式: post

    http://IP:PORT/if/message/getnoticeinfo


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":{
            "noticeId":1
        }
    }


参数|必须|说明
------|------|-------
noticeId|是|公告id



2）返回说明

正常时的返回JSON数据包示例：

    {
        "errcode":0,"errmsg":"查询网站公告详情成功",
        "data":{
            "id":1,
            "title":"恭喜发布平台2.0公告", 
            "contentUrl":"CONTENT_URL",
            "createTime":"2015-12-12 12:00:00",
        }
    }

错误时的JSON数据包示例：

    {
        "errcode":10000,"errmsg":"查询网站公告详情失败，其他原因"
    }


参数|必须|说明
----|----|----
id|是|公告id
title|是|标题
contentUrl|是|内容链接地址
createTime|是|创建时间