#修订日志

修改日期|修改者|修改说明
------|------|-------
2015-09-15|John|Create.
 




#目的

该文档描述资金管理模块提供对外访问的接口



#接口

###查询用户可用余额接口

查询用户可用余额

1）请求说明

http请求方式: post

前置条件：用户必须先登录，

    http://ip:port/if/capitalmanage/queryPrivilegeOfInvitation


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":
        {
            "userId":2
        }

    } 


参数|是否必须|说明
----|----|-----
appId|是|应用ID
timestamp|是|时间戳
nonce|是|随机数
signature|是|签名值,MD5(按值的字典顺序排列组合成字符串(appId,appKey,app.nonce,app.timeStamp))
userId|是|用户Id



2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"查询用户招标资质成功",
	"availableAmount":345420
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"查询用户招标资质失败，其它错误"}

参数|是否必须|说明
----|----|-----
availableAmount|是|可用余额




##冻结现金接口

冻结现金

1）请求说明

http请求方式: post

前置条件：用户必须先登录，

    http://ip:port/if/capitalmanage/freezeAmount


POST数据格式：JSON

    {
        "app":{
            "appId":"zjhtwallet",
            "timeStamp":"TIMESTAMP", 
            "nonce":"NONCE",
            "signature":"SIGNATURE"
        },
        "body":
        {
            "userId":2,
	    "freezeAmount":50000
        }

    } 


参数|是否必须|说明
----|----|-----
appId|是|应用ID
timestamp|是|时间戳
nonce|是|随机数
signature|是|签名值,MD5(按值的字典顺序排列组合成字符串(appId,appKey,app.nonce,app.timeStamp))
userId|是|用户Id



2）返回说明

正常时的返回JSON数据包示例：
 
    {"errcode":0,"errmsg":"冻结现金成功"
    }

错误时的JSON数据包示例：

    {"errcode":10000,"errmsg":"冻结现金失败，其它错误"}




